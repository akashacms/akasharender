import Joi from "joi";
;
const joiIsPathsReturnType = Joi.object({
    vpath: Joi.string(),
    mime: Joi.string().optional().allow(null),
    mounted: Joi.string(),
    mountPoint: Joi.string(),
    pathInMounted: Joi.string(),
    mtimeMs: Joi.number(), // .integer(),
    info: Joi.any(),
    fspath: Joi.string(),
    renderPath: Joi.string()
});
export function validatePathsReturnType(obj) {
    return joiIsPathsReturnType.validate(obj);
}
;
export const joiAsset = Joi.object({
    vpath: Joi.string(),
    renderPath: Joi.string(),
    mime: Joi.string().optional().allow(null),
    mounted: Joi.string(),
    mountPoint: Joi.string(),
    pathInMounted: Joi.string(),
    fspath: Joi.string(),
    dirname: Joi.string(),
    mtimeMs: Joi.number(), // .integer(),
    info: Joi.any()
});
export function validateAsset(obj) {
    return joiAsset.validate(obj);
}
export const createAssetsTable = `
CREATE TABLE IF NOT EXISTS "ASSETS" (
  \`vpath\` TEXT PRIMARY KEY,
  \`renderPath\` TEXT  GENERATED ALWAYS
        AS (vpath) STORED,
  \`mime\` TEXT,
  \`mounted\` TEXT,
  \`mountPoint\` TEXT,
  \`pathInMounted\` TEXT,
  \`fspath\` TEXT,
  \`dirname\` TEXT,
  \`mtimeMs\` REAL,
  \`info\` TEXT
) WITHOUT ROWID;
CREATE INDEX "asset_vpath"
        ON "ASSETS" ("vpath");
CREATE INDEX "asset_mounted"
        ON "ASSETS" ("mounted");
CREATE INDEX "asset_mountPoint"
        ON "ASSETS" ("mountPoint");
CREATE INDEX "asset_pathInMounted"
        ON "ASSETS" ("pathInMounted");
CREATE INDEX "asset_fspath"
        ON "ASSETS" ("fspath");
CREATE INDEX "asset_dirname"
        ON "ASSETS" ("dirname");
CREATE INDEX "asset_mtimeMs"
        ON "ASSETS" ("mtimeMs");
CREATE INDEX "asset_vpath_renderpath"
        ON "ASSETS" ("vpath", "renderPath");
`;
;
export const joiPartial = Joi.object({
    vpath: Joi.string(),
    renderPath: Joi.string(),
    mime: Joi.string().optional().allow(null),
    mounted: Joi.string(),
    mountPoint: Joi.string(),
    pathInMounted: Joi.string(),
    fspath: Joi.string(),
    dirname: Joi.string(),
    mtimeMs: Joi.number(), // .integer(),
    info: Joi.any(),
    // Added fields
    docBody: Joi.string().optional().allow(null),
    rendererName: Joi.string().optional().allow(null)
});
export function validatePartial(obj) {
    return joiPartial.validate(obj);
}
export const createPartialsTable = `
CREATE TABLE IF NOT EXISTS "PARTIALS" (
  \`vpath\` TEXT PRIMARY KEY,
  \`renderPath\` TEXT  GENERATED ALWAYS
        AS (vpath) STORED,
  \`mime\` TEXT,
  \`mounted\` TEXT,
  \`mountPoint\` TEXT,
  \`pathInMounted\` TEXT,
  \`fspath\` TEXT,
  \`dirname\` TEXT,
  \`mtimeMs\` REAL,
  \`docBody\` TEXT,
  \`rendererName\` TEXT,
  \`info\` TEXT
) WITHOUT ROWID;
CREATE INDEX "partial_vpath"
        ON "PARTIALS" ("vpath");
CREATE INDEX "partial_mounted"
        ON "PARTIALS" ("mounted");
CREATE INDEX "partial_mountPoint"
        ON "PARTIALS" ("mountPoint");
CREATE INDEX "partial_pathInMounted"
        ON "PARTIALS" ("pathInMounted");
CREATE INDEX "partial_fspath"
        ON "PARTIALS" ("fspath");
CREATE INDEX "partial_dirname"
        ON "PARTIALS" ("dirname");
CREATE INDEX "partial_mtimeMs"
        ON "PARTIALS" ("mtimeMs");
CREATE INDEX "partial_vpath_renderpath"
        ON "PARTIALS" ("vpath", "renderPath");
`;
;
export const joiLayout = Joi.object({
    vpath: Joi.string(),
    renderPath: Joi.string(),
    mime: Joi.string().optional().allow(null),
    mounted: Joi.string(),
    mountPoint: Joi.string(),
    pathInMounted: Joi.string(),
    fspath: Joi.string(),
    dirname: Joi.string(),
    mtimeMs: Joi.number(), // .integer(),
    info: Joi.any(),
    // Added fields
    rendersToHTML: Joi.alternatives()
        .try(Joi.boolean(), Joi.number().integer().min(0).max(1)),
    docBody: Joi.string().optional().allow(null),
    rendererName: Joi.string().min(0).optional().allow(null)
});
export function validateLayout(obj) {
    return joiLayout.validate(obj);
}
export const createLayoutsTable = `
CREATE TABLE IF NOT EXISTS "LAYOUTS" (
  \`vpath\` TEXT PRIMARY KEY,
  \`renderPath\` TEXT  GENERATED ALWAYS
        AS (vpath) STORED,
  \`mime\` TEXT,
  \`mounted\` TEXT,
  \`mountPoint\` TEXT,
  \`pathInMounted\` TEXT,
  \`fspath\` TEXT,
  \`dirname\` TEXT,
  \`mtimeMs\` REAL,
  \`rendersToHTML\` INTEGER,
  \`docBody\` TEXT,
  \`rendererName\` TEXT,
  \`info\` TEXT
) WITHOUT ROWID;
CREATE INDEX "layout_vpath"
        ON "LAYOUTS" ("vpath");
CREATE INDEX "layout_mounted"
        ON "LAYOUTS" ("mounted");
CREATE INDEX "layout_mountPoint"
        ON "LAYOUTS" ("mountPoint");
CREATE INDEX "layout_pathInMounted"
        ON "LAYOUTS" ("pathInMounted");
CREATE INDEX "layout_fspath"
        ON "LAYOUTS" ("fspath");
CREATE INDEX "layout_dirname"
        ON "LAYOUTS" ("dirname");
CREATE INDEX "layout_mtimeMs"
        ON "LAYOUTS" ("mtimeMs");
CREATE INDEX "layout_vpath_renderpath"
        ON "LAYOUTS" ("vpath", "renderPath");
`;
;
export const joiDocument = Joi.object({
    vpath: Joi.string(),
    mime: Joi.string().optional().allow(null),
    mounted: Joi.string(),
    mountPoint: Joi.string(),
    pathInMounted: Joi.string(),
    fspath: Joi.string(),
    dirname: Joi.string(),
    mtimeMs: Joi.number(), // .integer(),
    info: Joi.any(),
    // Added fields
    renderPath: Joi.string(),
    rendersToHTML: Joi.alternatives()
        .try(Joi.boolean(), Joi.number().integer().min(0).max(1)),
    parentDir: Joi.string(),
    publicationTime: Joi.number().optional().allow(null),
    baseMetadata: Joi.any(),
    docMetadata: Joi.any(),
    docContent: Joi.string().min(0).optional().allow(null),
    docBody: Joi.string().min(0).optional().allow(null),
    metadata: Joi.any(),
    tags: Joi.any(),
    layout: Joi.alternatives()
        .try(Joi.string(), Joi.allow(null)),
    blogtag: Joi.alternatives()
        .try(Joi.string(), Joi.allow(null)),
    rendererName: Joi.string().min(0).optional().allow(null)
});
export function validateDocument(obj) {
    return joiDocument.validate(obj);
}
export const createDocumentsTable = `
CREATE TABLE IF NOT EXISTS "DOCUMENTS" (
  \`vpath\` TEXT PRIMARY KEY,
  \`mime\` TEXT,
  \`mounted\` TEXT,
  \`mountPoint\` TEXT,
  \`pathInMounted\` TEXT,
  \`fspath\` TEXT,
  \`dirname\` TEXT,
  \`mtimeMs\` REAL,
  \`renderPath\` TEXT,
  \`rendersToHTML\` INTEGER,
  \`parentDir\` TEXT,
  \`publicationTime\` INTEGER GENERATED ALWAYS
        AS (json_extract(info, '$.publicationTime')) STORED,
  \`baseMetadata\` TEXT GENERATED ALWAYS
        AS (json_extract(info, '$.baseMetadata')) STORED,
  \`docMetadata\` TEXT,
  \`docContent\` TEXT,
  \`docBody\` TEXT,
  \`metadata\` TEXT GENERATED ALWAYS
        AS (json_extract(info, '$.metadata')) STORED,
  \`tags\` TEXT GENERATED ALWAYS
        AS (json_extract(info, '$.metadata.tags')) STORED,
  \`layout\` TEXT GENERATED ALWAYS
        AS (json_extract(metadata, '$.layout')) STORED,
  \`blogtag\` TEXT GENERATED ALWAYS
        AS (json_extract(metadata, '$.blogtag')) STORED,
  \`rendererName\` TEXT,
  \`info\` TEXT
) WITHOUT ROWID;
CREATE INDEX "document_vpath"
        ON "DOCUMENTS" ("vpath");
CREATE INDEX "document_mounted"
        ON "DOCUMENTS" ("mounted");
CREATE INDEX "document_mountPoint"
        ON "DOCUMENTS" ("mountPoint");
CREATE INDEX "document_pathInMounted"
        ON "DOCUMENTS" ("pathInMounted");
CREATE INDEX "document_fspath"
        ON "DOCUMENTS" ("fspath");
CREATE INDEX "document_dirname"
        ON "DOCUMENTS" ("dirname");
CREATE INDEX "document_renderPath"
        ON "DOCUMENTS" ("renderPath");
CREATE INDEX "document_rendersToHTML"
        ON "DOCUMENTS" ("rendersToHTML");
CREATE INDEX "document_parentDir"
        ON "DOCUMENTS" ("parentDir");
CREATE INDEX "document_mtimeMs"
        ON "DOCUMENTS" ("mtimeMs");
CREATE INDEX "document_publicationTime"
        ON "DOCUMENTS" ("publicationTime");
CREATE INDEX "document_tags"
        ON "DOCUMENTS" ("tags");
CREATE INDEX "document_layout"
        ON "DOCUMENTS" ("layout");
CREATE INDEX "document_blogtag"
        ON "DOCUMENTS" ("blogtag");
CREATE INDEX "document_vpath_renderpath"
        ON "DOCUMENTS" ("vpath", "renderPath");
`;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2NhY2hlL3NjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEdBQUcsTUFBTSxLQUFLLENBQUM7QUF5RHJCLENBQUM7QUFzQkYsTUFBTSxvQkFBb0IsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQ3BDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO0lBQ25CLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztJQUN6QyxPQUFPLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtJQUNyQixVQUFVLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtJQUN4QixhQUFhLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtJQUMzQixPQUFPLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFLGNBQWM7SUFDckMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUU7SUFDZixNQUFNLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtJQUNwQixVQUFVLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtDQUMzQixDQUFDLENBQUM7QUFFSCxNQUFNLFVBQVUsdUJBQXVCLENBQUMsR0FBUTtJQUk1QyxPQUFPLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUM5QyxDQUFDO0FBTUEsQ0FBQztBQVNGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQy9CLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO0lBQ25CLFVBQVUsRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO0lBQ3hCLElBQUksRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztJQUN6QyxPQUFPLEVBQUUs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QUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0NBRTNELENBQUMsQ0FBQztBQUVILE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxHQUFRO0lBSXJDLE9BQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQyxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0E2RG5DLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm9pIGZyb20gXCJqb2lcIjtcblxuLyoqXG4gKiBFdmVyeSBjYWNoZSBlbnRyeSBoYXMgdGhlc2UgZmllbGRzLiAgRm9yXG4gKiBtb3N0IGNhY2hlIHR5cGVzLCB0aGVyZSB3aWxsIGJlIGFkZGl0aW9uYWxcbiAqIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYXNlQ2FjaGVFbnRyeSB7XG5cbiAgICAvKipcbiAgICAgKiBWaXJ0dWFsIHBhdGhcbiAgICAgKi9cbiAgICB2cGF0aDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogTUlNRSB0eXBlXG4gICAgICovXG4gICAgbWltZT86IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlLXN5c3RlbSBwYXRoIHdoaWNoIGlzIG1vdW50ZWRcbiAgICAgKiBpbnRvIHRoZSB2aXJ0dWFsIGZpbGUgc3BhY2UuXG4gICAgICovXG4gICAgbW91bnRlZDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZpcnR1YWwgZGlyZWN0b3J5IG9mIHRoZSBtb3VudFxuICAgICAqIGVudHJ5IGluIHRoZSBkaXJlY3Rvcnkgc3RhY2suXG4gICAgICovXG4gICAgbW91bnRQb2ludDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJlbGF0aXZlIHBhdGggdW5kZXJuZWF0aCB0aGUgbW91bnRQb2ludC5cbiAgICAgKi9cbiAgICBwYXRoSW5Nb3VudGVkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBBYnNvbHV0ZSBwYXRoIG5hbWUgaW4gdGhlIHBoeXNpY2FsXG4gICAgICogZmlsZXN5c3RlbS5cbiAgICAgKi9cbiAgICBmc3BhdGg6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIGRpcm5hbWUgZm9yIGZzcGF0aFxuICAgICAqL1xuICAgIGRpcm5hbWU6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBtb2RpZmljYXRpb24gdGltZSwgaW4gbWlsaXNlY29uZHMuXG4gICAgICovXG4gICAgbXRpbWVNczogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogSW5mbyBvYmplY3QgcHJvdmlkZWQgYnkgU3RhY2tlZERpcnMgYW5kXG4gICAgICogYW5ub3RhdGVkIHdpdGggZ2F0aGVySW5mb0RhdGFcbiAgICAgKi9cbiAgICBpbmZvOiBhbnk7XG59O1xuXG4vKipcbiAqIFR5cGUgZm9yIHJldHVybiBmcm9tIHBhdGhzIG1ldGhvZC4gIFRoZSBmaWVsZHMgaGVyZVxuICogYXJlIHdoYXRzIGluIHRoZSBBc3NldC9MYXlvdXQvUGFydGlhbCBjbGFzc2VzIGFib3ZlXG4gKiBwbHVzIGEgY291cGxlIGZpZWxkcyB0aGF0IG9sZGVyIGNvZGUgZXhwZWN0ZWRcbiAqIGZyb20gdGhlIHBhdGhzIG1ldGhvZC5cbiAqL1xuZXhwb3J0IHR5cGUgUGF0aHNSZXR1cm5UeXBlID0ge1xuICAgIHZwYXRoOiBzdHJpbmcsXG4gICAgbWltZT86IHN0cmluZyxcbiAgICBtb3VudGVkOiBzdHJpbmcsXG4gICAgbW91bnRQb2ludDogc3RyaW5nLFxuICAgIHBhdGhJbk1vdW50ZWQ6IHN0cmluZyxcbiAgICBtdGltZU1zOiBudW1iZXIsXG4gICAgaW5mbzogYW55LFxuICAgIC8vIFRoZXNlIHdpbGwgYmUgY29tcHV0ZWQgaW4gQmFzZUZpbGVDYWNoZVxuICAgIC8vIFRoZXkgd2VyZSByZXR1cm5lZCBpbiBwcmV2aW91cyB2ZXJzaW9ucy5cbiAgICBmc3BhdGg6IHN0cmluZyxcbiAgICByZW5kZXJQYXRoOiBzdHJpbmdcbn07XG5cbmNvbnN0IGpvaUlzUGF0aHNSZXR1cm5UeXBlID0gSm9pLm9iamVjdCh7XG4gICAgdnBhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBtaW1lOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5hbGxvdyhudWxsKSxcbiAgICBtb3VudGVkOiBKb2kuc3RyaW5nKCksXG4gICAgbW91bnRQb2ludDogSm9pLnN0cmluZygpLFxuICAgIHBhdGhJbk1vdW50ZWQ6IEpvaS5zdHJpbmcoKSxcbiAgICBtdGltZU1zOiBKb2kubnVtYmVyKCksIC8vIC5pbnRlZ2VyKCksXG4gICAgaW5mbzogSm9pLmFueSgpLFxuICAgIGZzcGF0aDogSm9pLnN0cmluZygpLFxuICAgIHJlbmRlclBhdGg6IEpvaS5zdHJpbmcoKVxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBhdGhzUmV0dXJuVHlwZShvYmo6IGFueSk6IHtcbiAgICBlcnJvcjogYW55LFxuICAgIHZhbHVlOiBQYXRoc1JldHVyblR5cGVcbn0ge1xuICAgIHJldHVybiBqb2lJc1BhdGhzUmV0dXJuVHlwZS52YWxpZGF0ZShvYmopO1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLyBBc3NldFxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc2V0RmllbGRzIHtcblxufTtcblxuLyoqXG4gKiBEZXNjcmliZXMgYW4gZW50cnkgaW4gYW4gQXNzZXQgZGlyZWN0b3J5LCBtZWFuaW5nXG4gKiB0aGUgZmlsZXMgd2hpY2ggYXJlIHNpbXBseSBjb3BpZWQgdG8gdGhlIG91dHB1dFxuICogZGlyZWN0b3J5IHdpdGggbm8gcmVuZGVyaW5nIHByb2Nlc3MuXG4gKi9cbmV4cG9ydCB0eXBlIEFzc2V0ID0gQmFzZUNhY2hlRW50cnkgJiBBc3NldEZpZWxkcztcblxuZXhwb3J0IGNvbnN0IGpvaUFzc2V0ID0gSm9pLm9iamVjdCh7XG4gICAgdnBhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICByZW5kZXJQYXRoOiBKb2kuc3RyaW5nKCksXG4gICAgbWltZTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkuYWxsb3cobnVsbCksXG4gICAgbW91bnRlZDogSm9pLnN0cmluZygpLFxuICAgIG1vdW50UG9pbnQ6IEpvaS5zdHJpbmcoKSxcbiAgICBwYXRoSW5Nb3VudGVkOiBKb2kuc3RyaW5nKCksXG4gICAgZnNwYXRoOiBKb2kuc3RyaW5nKCksXG4gICAgZGlybmFtZTogSm9pLnN0cmluZygpLFxuICAgIG10aW1lTXM6IEpvaS5udW1iZXIoKSwgLy8gLmludGVnZXIoKSxcbiAgICBpbmZvOiBKb2kuYW55KClcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBc3NldChvYmo6IGFueSk6IHtcbiAgICBlcnJvcjogYW55LFxuICAgIHZhbHVlOiBBc3NldFxufSB7XG4gICAgcmV0dXJuIGpvaUFzc2V0LnZhbGlkYXRlKG9iaik7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVBc3NldHNUYWJsZSA9IGBcbkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFwiQVNTRVRTXCIgKFxuICBcXGB2cGF0aFxcYCBURVhUIFBSSU1BUlkgS0VZLFxuICBcXGByZW5kZXJQYXRoXFxgIFRFWFQgIEdFTkVSQVRFRCBBTFdBWVNcbiAgICAgICAgQVMgKHZwYXRoKSBTVE9SRUQsXG4gIFxcYG1pbWVcXGAgVEVYVCxcbiAgXFxgbW91bnRlZFxcYCBURVhULFxuICBcXGBtb3VudFBvaW50XFxgIFRFWFQsXG4gIFxcYHBhdGhJbk1vdW50ZWRcXGAgVEVYVCxcbiAgXFxgZnNwYXRoXFxgIFRFWFQsXG4gIFxcYGRpcm5hbWVcXGAgVEVYVCxcbiAgXFxgbXRpbWVNc1xcYCBSRUFMLFxuICBcXGBpbmZvXFxgIFRFWFRcbikgV0lUSE9VVCBST1dJRDtcbkNSRUFURSBJTkRFWCBcImFzc2V0X3ZwYXRoXCJcbiAgICAgICAgT04gXCJBU1NFVFNcIiAoXCJ2cGF0aFwiKTtcbkNSRUFURSBJTkRFWCBcImFzc2V0X21vdW50ZWRcIlxuICAgICAgICBPTiBcIkFTU0VUU1wiIChcIm1vdW50ZWRcIik7XG5DUkVBVEUgSU5ERVggXCJhc3NldF9tb3VudFBvaW50XCJcbiAgICAgICAgT04gXCJBU1NFVFNcIiAoXCJtb3VudFBvaW50XCIpO1xuQ1JFQVRFIElOREVYIFwiYXNzZXRfcGF0aEluTW91bnRlZFwiXG4gICAgICAgIE9OIFwiQVNTRVRTXCIgKFwicGF0aEluTW91bnRlZFwiKTtcbkNSRUFURSBJTkRFWCBcImFzc2V0X2ZzcGF0aFwiXG4gICAgICAgIE9OIFwiQVNTRVRTXCIgKFwiZnNwYXRoXCIpO1xuQ1JFQVRFIElOREVYIFwiYXNzZXRfZGlybmFtZVwiXG4gICAgICAgIE9OIFwiQVNTRVRTXCIgKFwiZGlybmFtZVwiKTtcbkNSRUFURSBJTkRFWCBcImFzc2V0X210aW1lTXNcIlxuICAgICAgICBPTiBcIkFTU0VUU1wiIChcIm10aW1lTXNcIik7XG5DUkVBVEUgSU5ERVggXCJhc3NldF92cGF0aF9yZW5kZXJwYXRoXCJcbiAgICAgICAgT04gXCJBU1NFVFNcIiAoXCJ2cGF0aFwiLCBcInJlbmRlclBhdGhcIik7XG5gO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLyBQYXJ0aWFsXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGlhbEZpZWxkcyB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBmb3IgdGhlIHRlbXBsYXRlLlxuICAgICAqL1xuICAgIGRvY0JvZHk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBSZW5kZXJlciBjbGFzcy5cbiAgICAgKiBcbiAgICAgKiA/Pz8gVE9ETyBJUyBUSElTIE5FRURFRFxuICAgICAqL1xuICAgIHJlbmRlcmVyTmFtZTogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgUGFydGlhbCA9IEJhc2VDYWNoZUVudHJ5ICYgUGFydGlhbEZpZWxkcztcblxuZXhwb3J0IGNvbnN0IGpvaVBhcnRpYWwgPSBKb2kub2JqZWN0KHtcbiAgICB2cGF0aDogSm9pLnN0cmluZygpLFxuICAgIHJlbmRlclBhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBtaW1lOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5hbGxvdyhudWxsKSxcbiAgICBtb3VudGVkOiBKb2kuc3RyaW5nKCksXG4gICAgbW91bnRQb2ludDogSm9pLnN0cmluZygpLFxuICAgIHBhdGhJbk1vdW50ZWQ6IEpvaS5zdHJpbmcoKSxcbiAgICBmc3BhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBkaXJuYW1lOiBKb2kuc3RyaW5nKCksXG4gICAgbXRpbWVNczogSm9pLm51bWJlcigpLCAvLyAuaW50ZWdlcigpLFxuICAgIGluZm86IEpvaS5hbnkoKSxcblxuICAgIC8vIEFkZGVkIGZpZWxkc1xuICAgIGRvY0JvZHk6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLmFsbG93KG51bGwpLFxuICAgIHJlbmRlcmVyTmFtZTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkuYWxsb3cobnVsbClcblxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVBhcnRpYWwob2JqOiBhbnkpOiB7XG4gICAgZXJyb3I6IGFueSxcbiAgICB2YWx1ZTogUGFydGlhbFxufSB7XG4gICAgcmV0dXJuIGpvaVBhcnRpYWwudmFsaWRhdGUob2JqKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBhcnRpYWxzVGFibGUgPSBgXG5DUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIlBBUlRJQUxTXCIgKFxuICBcXGB2cGF0aFxcYCBURVhUIFBSSU1BUlkgS0VZLFxuICBcXGByZW5kZXJQYXRoXFxgIFRFWFQgIEdFTkVSQVRFRCBBTFdBWVNcbiAgICAgICAgQVMgKHZwYXRoKSBTVE9SRUQsXG4gIFxcYG1pbWVcXGAgVEVYVCxcbiAgXFxgbW91bnRlZFxcYCBURVhULFxuICBcXGBtb3VudFBvaW50XFxgIFRFWFQsXG4gIFxcYHBhdGhJbk1vdW50ZWRcXGAgVEVYVCxcbiAgXFxgZnNwYXRoXFxgIFRFWFQsXG4gIFxcYGRpcm5hbWVcXGAgVEVYVCxcbiAgXFxgbXRpbWVNc1xcYCBSRUFMLFxuICBcXGBkb2NCb2R5XFxgIFRFWFQsXG4gIFxcYHJlbmRlcmVyTmFtZVxcYCBURVhULFxuICBcXGBpbmZvXFxgIFRFWFRcbikgV0lUSE9VVCBST1dJRDtcbkNSRUFURSBJTkRFWCBcInBhcnRpYWxfdnBhdGhcIlxuICAgICAgICBPTiBcIlBBUlRJQUxTXCIgKFwidnBhdGhcIik7XG5DUkVBVEUgSU5ERVggXCJwYXJ0aWFsX21vdW50ZWRcIlxuICAgICAgICBPTiBcIlBBUlRJQUxTXCIgKFwibW91bnRlZFwiKTtcbkNSRUFURSBJTkRFWCBcInBhcnRpYWxfbW91bnRQb2ludFwiXG4gICAgICAgIE9OIFwiUEFSVElBTFNcIiAoXCJtb3VudFBvaW50XCIpO1xuQ1JFQVRFIElOREVYIFwicGFydGlhbF9wYXRoSW5Nb3VudGVkXCJcbiAgICAgICAgT04gXCJQQVJUSUFMU1wiIChcInBhdGhJbk1vdW50ZWRcIik7XG5DUkVBVEUgSU5ERVggXCJwYXJ0aWFsX2ZzcGF0aFwiXG4gICAgICAgIE9OIFwiUEFSVElBTFNcIiAoXCJmc3BhdGhcIik7XG5DUkVBVEUgSU5ERVggXCJwYXJ0aWFsX2Rpcm5hbWVcIlxuICAgICAgICBPTiBcIlBBUlRJQUxTXCIgKFwiZGlybmFtZVwiKTtcbkNSRUFURSBJTkRFWCBcInBhcnRpYWxfbXRpbWVNc1wiXG4gICAgICAgIE9OIFwiUEFSVElBTFNcIiAoXCJtdGltZU1zXCIpO1xuQ1JFQVRFIElOREVYIFwicGFydGlhbF92cGF0aF9yZW5kZXJwYXRoXCJcbiAgICAgICAgT04gXCJQQVJUSUFMU1wiIChcInZwYXRoXCIsIFwicmVuZGVyUGF0aFwiKTtcbmA7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vIExheW91dFxuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dEZpZWxkcyB7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgdGVtcGxhdGUgcHJvZHVjZXNcbiAgICAgKiBIVE1MLlxuICAgICAqIFxuICAgICAqID8/PyBJUyBUSElTIE5FRURFRD9cbiAgICAgKi9cbiAgICByZW5kZXJzVG9IVE1MOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnQgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKi9cbiAgICBkb2NCb2R5OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgUmVuZGVyZXIgY2xhc3MuXG4gICAgICogXG4gICAgICogPz8/IFRPRE8gSVMgVEhJUyBORUVERURcbiAgICAgKi9cbiAgICByZW5kZXJlck5hbWU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIExheW91dCA9IEJhc2VDYWNoZUVudHJ5ICYgTGF5b3V0RmllbGRzO1xuXG5leHBvcnQgY29uc3Qgam9pTGF5b3V0ID0gSm9pLm9iamVjdCh7XG5cbiAgICB2cGF0aDogSm9pLnN0cmluZygpLFxuICAgIHJlbmRlclBhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBtaW1lOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5hbGxvdyhudWxsKSxcbiAgICBtb3VudGVkOiBKb2kuc3RyaW5nKCksXG4gICAgbW91bnRQb2ludDogSm9pLnN0cmluZygpLFxuICAgIHBhdGhJbk1vdW50ZWQ6IEpvaS5zdHJpbmcoKSxcbiAgICBmc3BhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBkaXJuYW1lOiBKb2kuc3RyaW5nKCksXG4gICAgbXRpbWVNczogSm9pLm51bWJlcigpLCAvLyAuaW50ZWdlcigpLFxuICAgIGluZm86IEpvaS5hbnkoKSxcblxuICAgIC8vIEFkZGVkIGZpZWxkc1xuICAgIHJlbmRlcnNUb0hUTUw6IEpvaS5hbHRlcm5hdGl2ZXMoKVxuICAgICAgICAudHJ5KFxuICAgICAgICAgICAgSm9pLmJvb2xlYW4oKSxcbiAgICAgICAgICAgIEpvaS5udW1iZXIoKS5pbnRlZ2VyKCkubWluKDApLm1heCgxKVxuICAgICAgICApLFxuICAgIGRvY0JvZHk6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLmFsbG93KG51bGwpLFxuICAgIHJlbmRlcmVyTmFtZTogSm9pLnN0cmluZygpLm1pbigwKS5vcHRpb25hbCgpLmFsbG93KG51bGwpXG5cbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVMYXlvdXQob2JqOiBhbnkpOiB7XG4gICAgZXJyb3I6IGFueSxcbiAgICB2YWx1ZTogTGF5b3V0XG59IHtcbiAgICByZXR1cm4gam9pTGF5b3V0LnZhbGlkYXRlKG9iaik7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVMYXlvdXRzVGFibGUgPSBgXG5DUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIkxBWU9VVFNcIiAoXG4gIFxcYHZwYXRoXFxgIFRFWFQgUFJJTUFSWSBLRVksXG4gIFxcYHJlbmRlclBhdGhcXGAgVEVYVCAgR0VORVJBVEVEIEFMV0FZU1xuICAgICAgICBBUyAodnBhdGgpIFNUT1JFRCxcbiAgXFxgbWltZVxcYCBURVhULFxuICBcXGBtb3VudGVkXFxgIFRFWFQsXG4gIFxcYG1vdW50UG9pbnRcXGAgVEVYVCxcbiAgXFxgcGF0aEluTW91bnRlZFxcYCBURVhULFxuICBcXGBmc3BhdGhcXGAgVEVYVCxcbiAgXFxgZGlybmFtZVxcYCBURVhULFxuICBcXGBtdGltZU1zXFxgIFJFQUwsXG4gIFxcYHJlbmRlcnNUb0hUTUxcXGAgSU5URUdFUixcbiAgXFxgZG9jQm9keVxcYCBURVhULFxuICBcXGByZW5kZXJlck5hbWVcXGAgVEVYVCxcbiAgXFxgaW5mb1xcYCBURVhUXG4pIFdJVEhPVVQgUk9XSUQ7XG5DUkVBVEUgSU5ERVggXCJsYXlvdXRfdnBhdGhcIlxuICAgICAgICBPTiBcIkxBWU9VVFNcIiAoXCJ2cGF0aFwiKTtcbkNSRUFURSBJTkRFWCBcImxheW91dF9tb3VudGVkXCJcbiAgICAgICAgT04gXCJMQVlPVVRTXCIgKFwibW91bnRlZFwiKTtcbkNSRUFURSBJTkRFWCBcImxheW91dF9tb3VudFBvaW50XCJcbiAgICAgICAgT04gXCJMQVlPVVRTXCIgKFwibW91bnRQb2ludFwiKTtcbkNSRUFURSBJTkRFWCBcImxheW91dF9wYXRoSW5Nb3VudGVkXCJcbiAgICAgICAgT04gXCJMQVlPVVRTXCIgKFwicGF0aEluTW91bnRlZFwiKTtcbkNSRUFURSBJTkRFWCBcImxheW91dF9mc3BhdGhcIlxuICAgICAgICBPTiBcIkxBWU9VVFNcIiAoXCJmc3BhdGhcIik7XG5DUkVBVEUgSU5ERVggXCJsYXlvdXRfZGlybmFtZVwiXG4gICAgICAgIE9OIFwiTEFZT1VUU1wiIChcImRpcm5hbWVcIik7XG5DUkVBVEUgSU5ERVggXCJsYXlvdXRfbXRpbWVNc1wiXG4gICAgICAgIE9OIFwiTEFZT1VUU1wiIChcIm10aW1lTXNcIik7XG5DUkVBVEUgSU5ERVggXCJsYXlvdXRfdnBhdGhfcmVuZGVycGF0aFwiXG4gICAgICAgIE9OIFwiTEFZT1VUU1wiIChcInZwYXRoXCIsIFwicmVuZGVyUGF0aFwiKTtcbmA7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vIERvY3VtZW50XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRGaWVsZHMge1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZpcnR1YWwgcGF0aG5hbWUgdG8gd2hpY2ggdGhpc1xuICAgICAqIGRvY3VtZW50IHJlbmRlcnMgaW4gdGhlIG91dHB1dCBkaXJlY3RvcnkuXG4gICAgICovXG4gICAgcmVuZGVyUGF0aDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHRlbXBsYXRlIHByb2R1Y2VzXG4gICAgICogSFRNTC5cbiAgICAgKiBcbiAgICAgKiA/Pz8gSVMgVEhJUyBORUVERUQ/XG4gICAgICovXG4gICAgcmVuZGVyc1RvSFRNTDogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2aXJ0dWFsIHBhdGhuYW1lIHRoYXQgaXMgdGhlXG4gICAgICogZGlyZWN0b3J5IG5hbWUgb2YgdGhlIHJlbmRlclBhdGguXG4gICAgICovXG4gICAgLy8gSU4gQkFTRSBDQUNIRSBkaXJuYW1lOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmlydHVhbCBwYXRobmFtZSB0aGF0IGlzIHRoZVxuICAgICAqIHBhcmVudCBkaXJlY3RvcnkgbmFtZSBvZiBkaXJuYW1lLlxuICAgICAqIFxuICAgICAqID8/Pz8/IElTIFRISVMgTkVFREVEXG4gICAgICovXG4gICAgcGFyZW50RGlyOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgXCJ0aW1lXCIgKHNlY29uZHMgc2luY2UgSmFuIDEgMTk3MClcbiAgICAgKiBjb3JyZXNwb25kaW5nIHRvIHRoZSBwdWJsaWNhdGlvbkRhdGVcbiAgICAgKiBmaWVsZCBpbiB0aGUgZG9jdW1lbnQgbWV0YWRhdGEuXG4gICAgICogXG4gICAgICogSU5URUdFUiBHRU5FUkFURUQgQUxXQVlTXG4gICAgICogIEFTIChqc29uX2V4dHJhY3QoaW5mbywgJyQucHVibGljYXRpb25UaW1lJykpIFNUT1JFRFxuICAgICAqL1xuICAgIHB1YmxpY2F0aW9uVGltZTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIGZvciB0aGUgYmFzZU1ldGFkYXRhIG9mXG4gICAgICogdGhlIG1vdW50ZWQgdmlydHVhbCBkaXJlY3RvcnkgaW5cbiAgICAgKiB3aGljaCB0aGlzIGZpbGUgaXMgc3RvcmVkLiAgVGhpc1xuICAgICAqIG1ldGFkYXRhIGlzIHVzZWQgaW4gY29tcHV0aW5nIHRoZVxuICAgICAqIGZpbmFsIG1ldGFkYXRhLlxuICAgICAqIFxuICAgICAqIFRFWFQgR0VORVJBVEVEIEFMV0FZU1xuICAgICAqICBBUyAoanNvbl9leHRyYWN0KGluZm8sICckLmJhc2VNZXRhZGF0YScpKSBTVE9SRURcbiAgICAgKi9cbiAgICBiYXNlTWV0YWRhdGE6IGFueTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBmb3IgdGhlIGhlYWRlciBtZXRhZGF0YSBvZlxuICAgICAqIHRoZSBkb2N1bWVudC4gIFRoaXMgbWV0YWRhdGEgaXMgdXNlZCxcbiAgICAgKiBhbG9uZyB3aXRoIGRvY01ldGFkYXRhLCBpbiBjb21wdXRpbmcgdGhlXG4gICAgICogZmluYWwgbWV0YWRhdGEuXG4gICAgICovXG4gICAgZG9jTWV0YWRhdGE6IGFueTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb250ZW50IGZvciB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZG9jQ29udGVudDogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJvZHkgcG9ydGlvbiBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZG9jQm9keTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpbmFsIG1ldGFkYXRhIGZvciB0aGUgZG9jdW1lbnQsXG4gICAgICogd2hpY2ggaXMgY29tcHV0ZWQgZnJvbSBiYXNlTWV0YWRhdGFcbiAgICAgKiBhbmQgZG9jTWV0YWRhdGEuXG4gICAgICogXG4gICAgICogVEVYVCBHRU5FUkFURUQgQUxXQVlTXG4gICAgICogIEFTIChqc29uX2V4dHJhY3QoaW5mbywgJyQubWV0YWRhdGEnKSkgU1RPUkVEXG4gICAgICovXG4gICAgbWV0YWRhdGE6IGFueTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiB0YWcgc3RyaW5ncyBkZXJpdmVkIGZyb21cbiAgICAgKiB0aGUgdGFncyBmaWVsZCBvZiB0aGUgZG9jdW1lbnQgbWV0YWRhdGEuXG4gICAgICogXG4gICAgICogVEVYVCBHRU5FUkFURUQgQUxXQVlTXG4gICAgICogIEFTIChqc29uX2V4dHJhY3QoaW5mbywgJyQubWV0YWRhdGEudGFncycpKSBTVE9SRURcbiAgICAgKi9cbiAgICB0YWdzOiBhbnk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgbGF5b3V0IGZpZWxkXG4gICAgICogb2YgdGhlIGRvY3VtZW50IG1ldGFkYXRhLlxuICAgICAqIFxuICAgICAqIFRFWFQgR0VORVJBVEVEIEFMV0FZU1xuICAgICAqICBBUyAoanNvbl9leHRyYWN0KG1ldGFkYXRhLCAnJC5sYXlvdXQnKSkgU1RPUkVEXG4gICAgICovXG4gICAgbGF5b3V0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29udGVudCBvZiB0aGUgYmxvZ3RhZyBmaWVsZFxuICAgICAqIG9mIHRoZSBkb2N1bWVudCBtZXRhZGF0YS5cbiAgICAgKiBcbiAgICAgKiBURVhUIEdFTkVSQVRFRCBBTFdBWVNcbiAgICAgKiAgQVMgKGpzb25fZXh0cmFjdChtZXRhZGF0YSwgJyQuYmxvZ3RhZycpKSBTVE9SRURcbiAgICAgKi9cbiAgICBibG9ndGFnOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgUmVuZGVyZXIgY2xhc3MuXG4gICAgICogXG4gICAgICogPz8/IFRPRE8gSVMgVEhJUyBORUVERURcbiAgICAgKi9cbiAgICByZW5kZXJlck5hbWU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIERvY3VtZW50ID0gQmFzZUNhY2hlRW50cnlcbiAgICAgICAgICAgICAgICAgICAgICYgRG9jdW1lbnRGaWVsZHM7XG5cbmV4cG9ydCBjb25zdCBqb2lEb2N1bWVudCA9IEpvaS5vYmplY3Qoe1xuXG4gICAgdnBhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBtaW1lOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5hbGxvdyhudWxsKSxcbiAgICBtb3VudGVkOiBKb2kuc3RyaW5nKCksXG4gICAgbW91bnRQb2ludDogSm9pLnN0cmluZygpLFxuICAgIHBhdGhJbk1vdW50ZWQ6IEpvaS5zdHJpbmcoKSxcbiAgICBmc3BhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICBkaXJuYW1lOiBKb2kuc3RyaW5nKCksXG4gICAgbXRpbWVNczogSm9pLm51bWJlcigpLCAvLyAuaW50ZWdlcigpLFxuICAgIGluZm86IEpvaS5hbnkoKSxcblxuICAgIC8vIEFkZGVkIGZpZWxkc1xuICAgIHJlbmRlclBhdGg6IEpvaS5zdHJpbmcoKSxcbiAgICByZW5kZXJzVG9IVE1MOiBKb2kuYWx0ZXJuYXRpdmVzKClcbiAgICAgICAgLnRyeShcbiAgICAgICAgICAgIEpvaS5ib29sZWFuKCksXG4gICAgICAgICAgICBKb2kubnVtYmVyKCkuaW50ZWdlcigpLm1pbigwKS5tYXgoMSlcbiAgICAgICAgKSxcbiAgICBwYXJlbnREaXI6IEpvaS5zdHJpbmcoKSxcbiAgICBwdWJsaWNhdGlvblRpbWU6IEpvaS5udW1iZXIoKS5vcHRpb25hbCgpLmFsbG93KG51bGwpLFxuICAgIGJhc2VNZXRhZGF0YTogSm9pLmFueSgpLFxuICAgIGRvY01ldGFkYXRhOiBKb2kuYW55KCksXG4gICAgZG9jQ29udGVudDogSm9pLnN0cmluZygpLm1pbigwKS5vcHRpb25hbCgpLmFsbG93KG51bGwpLFxuICAgIGRvY0JvZHk6IEpvaS5zdHJpbmcoKS5taW4oMCkub3B0aW9uYWwoKS5hbGxvdyhudWxsKSxcbiAgICBtZXRhZGF0YTogSm9pLmFueSgpLFxuICAgIHRhZ3M6IEpvaS5hbnkoKSxcbiAgICBsYXlvdXQ6IEpvaS5hbHRlcm5hdGl2ZXMoKVxuICAgICAgICAudHJ5KFxuICAgICAgICAgICAgSm9pLnN0cmluZygpLFxuICAgICAgICAgICAgSm9pLmFsbG93KG51bGwpXG4gICAgICAgICksXG4gICAgYmxvZ3RhZzogSm9pLmFsdGVybmF0aXZlcygpXG4gICAgICAgIC50cnkoXG4gICAgICAgICAgICBKb2kuc3RyaW5nKCksXG4gICAgICAgICAgICBKb2kuYWxsb3cobnVsbClcbiAgICAgICAgKSxcbiAgICByZW5kZXJlck5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMCkub3B0aW9uYWwoKS5hbGxvdyhudWxsKVxuXG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlRG9jdW1lbnQob2JqOiBhbnkpOiB7XG4gICAgZXJyb3I6IGFueSxcbiAgICB2YWx1ZTogRG9jdW1lbnRcbn0ge1xuICAgIHJldHVybiBqb2lEb2N1bWVudC52YWxpZGF0ZShvYmopO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlRG9jdW1lbnRzVGFibGUgPSBgXG5DUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIkRPQ1VNRU5UU1wiIChcbiAgXFxgdnBhdGhcXGAgVEVYVCBQUklNQVJZIEtFWSxcbiAgXFxgbWltZVxcYCBURVhULFxuICBcXGBtb3VudGVkXFxgIFRFWFQsXG4gIFxcYG1vdW50UG9pbnRcXGAgVEVYVCxcbiAgXFxgcGF0aEluTW91bnRlZFxcYCBURVhULFxuICBcXGBmc3BhdGhcXGAgVEVYVCxcbiAgXFxgZGlybmFtZVxcYCBURVhULFxuICBcXGBtdGltZU1zXFxgIFJFQUwsXG4gIFxcYHJlbmRlclBhdGhcXGAgVEVYVCxcbiAgXFxgcmVuZGVyc1RvSFRNTFxcYCBJTlRFR0VSLFxuICBcXGBwYXJlbnREaXJcXGAgVEVYVCxcbiAgXFxgcHVibGljYXRpb25UaW1lXFxgIElOVEVHRVIgR0VORVJBVEVEIEFMV0FZU1xuICAgICAgICBBUyAoanNvbl9leHRyYWN0KGluZm8sICckLnB1YmxpY2F0aW9uVGltZScpKSBTVE9SRUQsXG4gIFxcYGJhc2VNZXRhZGF0YVxcYCBURVhUIEdFTkVSQVRFRCBBTFdBWVNcbiAgICAgICAgQVMgKGpzb25fZXh0cmFjdChpbmZvLCAnJC5iYXNlTWV0YWRhdGEnKSkgU1RPUkVELFxuICBcXGBkb2NNZXRhZGF0YVxcYCBURVhULFxuICBcXGBkb2NDb250ZW50XFxgIFRFWFQsXG4gIFxcYGRvY0JvZHlcXGAgVEVYVCxcbiAgXFxgbWV0YWRhdGFcXGAgVEVYVCBHRU5FUkFURUQgQUxXQVlTXG4gICAgICAgIEFTIChqc29uX2V4dHJhY3QoaW5mbywgJyQubWV0YWRhdGEnKSkgU1RPUkVELFxuICBcXGB0YWdzXFxgIFRFWFQgR0VORVJBVEVEIEFMV0FZU1xuICAgICAgICBBUyAoanNvbl9leHRyYWN0KGluZm8sICckLm1ldGFkYXRhLnRhZ3MnKSkgU1RPUkVELFxuICBcXGBsYXlvdXRcXGAgVEVYVCBHRU5FUkFURUQgQUxXQVlTXG4gICAgICAgIEFTIChqc29uX2V4dHJhY3QobWV0YWRhdGEsICckLmxheW91dCcpKSBTVE9SRUQsXG4gIFxcYGJsb2d0YWdcXGAgVEVYVCBHRU5FUkFURUQgQUxXQVlTXG4gICAgICAgIEFTIChqc29uX2V4dHJhY3QobWV0YWRhdGEsICckLmJsb2d0YWcnKSkgU1RPUkVELFxuICBcXGByZW5kZXJlck5hbWVcXGAgVEVYVCxcbiAgXFxgaW5mb1xcYCBURVhUXG4pIFdJVEhPVVQgUk9XSUQ7XG5DUkVBVEUgSU5ERVggXCJkb2N1bWVudF92cGF0aFwiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwidnBhdGhcIik7XG5DUkVBVEUgSU5ERVggXCJkb2N1bWVudF9tb3VudGVkXCJcbiAgICAgICAgT04gXCJET0NVTUVOVFNcIiAoXCJtb3VudGVkXCIpO1xuQ1JFQVRFIElOREVYIFwiZG9jdW1lbnRfbW91bnRQb2ludFwiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwibW91bnRQb2ludFwiKTtcbkNSRUFURSBJTkRFWCBcImRvY3VtZW50X3BhdGhJbk1vdW50ZWRcIlxuICAgICAgICBPTiBcIkRPQ1VNRU5UU1wiIChcInBhdGhJbk1vdW50ZWRcIik7XG5DUkVBVEUgSU5ERVggXCJkb2N1bWVudF9mc3BhdGhcIlxuICAgICAgICBPTiBcIkRPQ1VNRU5UU1wiIChcImZzcGF0aFwiKTtcbkNSRUFURSBJTkRFWCBcImRvY3VtZW50X2Rpcm5hbWVcIlxuICAgICAgICBPTiBcIkRPQ1VNRU5UU1wiIChcImRpcm5hbWVcIik7XG5DUkVBVEUgSU5ERVggXCJkb2N1bWVudF9yZW5kZXJQYXRoXCJcbiAgICAgICAgT04gXCJET0NVTUVOVFNcIiAoXCJyZW5kZXJQYXRoXCIpO1xuQ1JFQVRFIElOREVYIFwiZG9jdW1lbnRfcmVuZGVyc1RvSFRNTFwiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwicmVuZGVyc1RvSFRNTFwiKTtcbkNSRUFURSBJTkRFWCBcImRvY3VtZW50X3BhcmVudERpclwiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwicGFyZW50RGlyXCIpO1xuQ1JFQVRFIElOREVYIFwiZG9jdW1lbnRfbXRpbWVNc1wiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwibXRpbWVNc1wiKTtcbkNSRUFURSBJTkRFWCBcImRvY3VtZW50X3B1YmxpY2F0aW9uVGltZVwiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwicHVibGljYXRpb25UaW1lXCIpO1xuQ1JFQVRFIElOREVYIFwiZG9jdW1lbnRfdGFnc1wiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwidGFnc1wiKTtcbkNSRUFURSBJTkRFWCBcImRvY3VtZW50X2xheW91dFwiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwibGF5b3V0XCIpO1xuQ1JFQVRFIElOREVYIFwiZG9jdW1lbnRfYmxvZ3RhZ1wiXG4gICAgICAgIE9OIFwiRE9DVU1FTlRTXCIgKFwiYmxvZ3RhZ1wiKTtcbkNSRUFURSBJTkRFWCBcImRvY3VtZW50X3ZwYXRoX3JlbmRlcnBhdGhcIlxuICAgICAgICBPTiBcIkRPQ1VNRU5UU1wiIChcInZwYXRoXCIsIFwicmVuZGVyUGF0aFwiKTtcbmA7XG4iXX0=